(this["webpackJsonpcom.covidpulse.ui"]=this["webpackJsonpcom.covidpulse.ui"]||[]).push([[0],{154:function(e,t,a){e.exports=a.p+"static/media/glass.da0a0a41.svg"},165:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(104),_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_material_ui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(301),_material_ui_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(298),_material_ui_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(302),_material_ui_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(303),_material_ui_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(308),_material_ui_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(304),_material_ui_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(38),_material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(305),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(171),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(300),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(307),axios__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(37),axios__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_14__),_material_ui_styles__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(107),_styles_feeds_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(284),_styles_feeds_css__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_styles_feeds_css__WEBPACK_IMPORTED_MODULE_16__),_material_ui_icons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(172),_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(103),_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_18__),$=window.$,APIURL="https://covid-pulse-api.herokuapp.com/api/covid19/";function nFormatter(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}function timeSince(e){var t=new Date,a=(t.getTime()-e)/1e3;return a<60?parseInt(a)+"s ago":a<3600?parseInt(a/60)+"m ago":a<=86400?parseInt(a/3600)+"h ago":a>86400?"on "+e.getDate()+" "+e.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ","")+(e.getFullYear()===t.getFullYear()?"":" "+e.getFullYear()):void 0}var useStyles=Object(_material_ui_styles__WEBPACK_IMPORTED_MODULE_15__.a)((function(e){return{card:{margin:"10px"},media:{height:150},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450}}})),Feeds=function Feeds(){var classes=useStyles(),_useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!0),_useState2=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),loading=_useState2[0],setLoading=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState4=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),feeds=_useState4[0],setFeeds=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(1),_useState6=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),pageNo=_useState6[0],setPageNo=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState8=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),openanchor=_useState8[0],setOpenAnchor=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(void 0),_useState10=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),selectedFeed=_useState10[0],setSelectedFeed=_useState10[1],_useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState12=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),scrolling=_useState12[0],setscrolling=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState14=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState13,2),reachedLastPage=_useState14[0],setReachedLastPage=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),_useState16=Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState15,2),fetchingData=_useState16[0],setFecthingData=_useState16[1],fetchFeeds=function(){setFecthingData(!0),axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(APIURL+"feeds/?page=".concat(pageNo,"&ordering=-timestamp")).then((function(e){null===e.data.next&&setReachedLastPage(!0),feeds.length>0?setFeeds([].concat(Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(feeds),Object(_Users_avinash_myProject_covidpulse_ui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(e.data.results))):setFeeds(e.data.results)})).catch((function(e){console.log(e)})).finally((function(){setLoading(!1),setFecthingData(!1)}))};Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){reachedLastPage||fetchingData||fetchFeeds()}),[pageNo]);var FeedImg=function FeedImg(imgs,size){if(imgs)return eval(imgs).slice(0,size).map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_3__.a,{key:t,component:"img",alt:"Contemplative Reptile",height:"140",image:e,title:"Contemplative Reptile"})}))},getFeed=function(e,t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__.a,{key:e.id,className:classes.card},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__.a,{onClick:function(){setSelectedFeed(e),setOpenAnchor(!0)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__.a,{avatar:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_7__.a,{"aria-label":"recipe",src:"https://avatars.io/twitter/"+e.username,className:classes.avatar}),title:e.by,subheader:timeSince(new Date(e.timestamp))}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_8__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.a,{variant:"body2",color:"textSecondary",component:"p"},e.text)),FeedImg(e.imgs,t)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,{size:"small",color:"primary"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_18___default.a,{color:"secondary",fontSize:"small"})," ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:{paddingLeft:"5px"}},nFormatter(e.likes))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,{size:"small",color:"primary"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_17__.a,{fontSize:"small"})," ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{style:{paddingLeft:"5px"}},nFormatter(e.shared)))))},handleOnCose=function(e){},handleScroll=function(e){if(e.target.scrollTop>10)return setscrolling(!0),void($(".feeds-wrapper").scrollTop()+$(".feeds-wrapper").height()>=$(".feeds-wrapper")[0].scrollHeight-$(".feeds-wrapper").height()&&(reachedLastPage||setPageNo(pageNo+1)));setscrolling(!1)};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,{key:"top"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:loading?" feeds-wrapper centered ":"feeds-wrapper",onScroll:handleScroll},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:scrolling?"_title float-top onscroll":"_title float-top"},"Feeds"),feeds.map((function(e){return getFeed(e,1)})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},fetchingData?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,null):"")),void 0!==selectedFeed?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{anchor:"right",onOpen:handleOnCose,open:openanchor,onClose:handleOnCose,onClick:function(){return setOpenAnchor(!1)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"feed-detail"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_9__.a,{variant:"body2",color:"textSecondary",component:"p"},selectedFeed.text),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"summary-cont"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"likes"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons_Favorite__WEBPACK_IMPORTED_MODULE_18___default.a,{color:"secondary"})," ",nFormatter(selectedFeed.likes)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"shares"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_icons__WEBPACK_IMPORTED_MODULE_17__.a,null)," ",nFormatter(selectedFeed.shared))),selectedFeed.hasmedia?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"img-holders"},FeedImg(selectedFeed.imgs,20)):"")):"")};__webpack_exports__.a=Feeds},182:function(e,t,a){e.exports=a(293)},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},235:function(e,t,a){},275:function(e,t,a){},280:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a.n(n),o=a(59),_=a(0),l=a.n(_),c=a(12),i=a.n(c),s=(a(188),a(49)),u=a(45),d=(a(189),a(7)),p=a(151),m=a.n(p),E=a(152),f=a.n(E),g=a(337),b=a(339),O=a(340),h=(a(190),function(){var e=l.a.useState(1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=[{path:"/feeds",label:"Feeds",component:l.a.createElement(g.a,null)},{path:"/hotspots",label:"HotSpots",component:l.a.createElement(b.a,null)},{path:"/lookup",label:"LookUp Case",component:l.a.createElement(O.a,null)}];return l.a.createElement(m.a,{value:a,className:"_navbar",showLabels:!0,onChange:function(e,t){n(t)}},r.map((function(e,t){return l.a.createElement(f.a,{key:t,label:e.label,component:s.b,to:e.path,className:"_navitem",icon:e.component})})))}),v=a(169),P=a(37),M=a.n(P),D=(a(235),a(298)),y=a(154),C=a.n(y),L=a(308),I=a(342),A=a(358),T=a(343),w=a(344),U=a(345),j=a(346),R=a(347),S=a(348),B=a(171),x=function(e){var t=["#3f51b5","#28a745","#fd7e14","#007bff"],a=Object(_.useState)(!1),n=Object(d.a)(a,2),r=n[0],o=n[1],c=Object(_.useState)(""),i=Object(d.a)(c,2),s=i[0],u=i[1],p=function(){o(!1)};return l.a.createElement("div",null,e.reports&&0!==e.reports.length?e.reports.map((function(a,n){return l.a.createElement(D.a,{className:"section-wrapper",key:n},l.a.createElement(I.a,{container:!0,className:"grid-container"},l.a.createElement(I.a,{item:!0,xs:2},l.a.createElement("div",{className:"report-divider"},l.a.createElement(L.a,{className:"avatar-details",style:{opacity:".9",backgroundColor:t[Math.floor(4*Math.random())]}},"P",a.id))),l.a.createElement(I.a,{item:!0,xs:10},l.a.createElement(I.a,{container:!0,style:{paddingLeft:"10px"}},l.a.createElement(I.a,{item:!0,xs:12,style:{paddingBottom:"8px"}},l.a.createElement("span",{className:"section-header"},"Patient - ",a.id),e.byMyself?l.a.createElement(T.a,{style:{position:"absolute",right:0},className:"delete",onClick:function(){return e=a.id,console.log(e),u(e),void o(!0);var e}}):l.a.createElement("div",null)),l.a.createElement(I.a,{item:!0,xs:4},l.a.createElement("span",{className:"section-label"},"age"),l.a.createElement("span",{className:"section-value"},a.age)),l.a.createElement(I.a,{item:!0,xs:4},l.a.createElement("span",{className:"section-label"},"gender"),l.a.createElement("span",{className:"section-value"},"M"===(r=a.gender)?"Male":"F"===r?"Female":"Transgender")),l.a.createElement(I.a,{item:!0,xs:12,style:{marginTop:"10px"}},l.a.createElement("span",{className:"section-label"},"symptoms"),l.a.createElement("span",{className:"section-chip"},a.symptom.split(",").map((function(e,t){return l.a.createElement(A.a,{key:t,color:"primary",variant:"outlined",label:e,style:{marginRight:"5px"}})}))))))));var r})):l.a.createElement(D.a,{className:"no-data-card"},l.a.createElement("img",{src:C.a,alt:""}),l.a.createElement("div",null,"No reports found :)")),l.a.createElement(w.a,{open:r,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(U.a,{id:"alert-dialog-title"},"Delete Case"),l.a.createElement(j.a,null,l.a.createElement(R.a,{id:"alert-dialog-description"},"Are you sure want to delete the case?")),l.a.createElement(S.a,null,l.a.createElement(B.a,{onClick:function(){o(!1),console.log(s),e.deleteReport(s)},color:"secondary",autoFocus:!0},"Agree"),l.a.createElement(B.a,{onClick:p},"Close"))))},k=a(299),W=a(300),K=function(){var e=l.a.useState(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)},o=function(){n(!0)},c=Object(_.useState)({reportedByMe:[],others:[]}),i=Object(d.a)(c,2),u=i[0],p=i[1],m=Object(_.useState)(!1),E=Object(d.a)(m,2),f=E[0],g=E[1];Object(_.useEffect)((function(){b()}),[]);var b=function(){o(),M.a.get("https://covid-pulse-api.herokuapp.com/api/covid19/report").then((function(e){var t=[],a=[];e.data.map((function(e){return e.reported_by&&e.reported_by.toLowerCase()===localStorage.getItem("deviceId").toLowerCase()?t.push(e):a.push(e),!0})),p({reportedByMe:t,others:a})})).then((function(){return r()})).catch((function(e){console.log(e),r()}))},O=function(e){o(),M.a.delete("https://covid-pulse-api.herokuapp.com/api/covid19/report/"+e).then((function(e){b()})).then((function(){return r()})).catch((function(e){r(),console.log(e)}))};return l.a.createElement("div",null,l.a.createElement("div",{className:"_wrapper",onScroll:function(e){e.target.scrollTop>10?g(!0):g(!1)},style:{backgroundColor:"#f7f8fb"}},l.a.createElement(k.a,{open:a,style:{zIndex:"9999"},onClick:r},l.a.createElement(W.a,{color:"inherit"})),l.a.createElement(v.a,{elevation:0},l.a.createElement("div",{className:f?" onscroll _title float-top":"_title float-top"},"Lookup Case",l.a.createElement(B.a,{size:"small",component:s.b,to:"/report",style:{float:"right"},className:"report-case-but",variant:"outlined",color:"primary"},l.a.createElement("span",{className:"add-icon"},"+")," Report Case"))),l.a.createElement("div",{className:"lookup-container"},l.a.createElement("div",{className:"lookup-section-header"},"Reported by me"),l.a.createElement(x,{reports:u.reportedByMe,byMyself:!0,deleteReport:O.bind(void 0)})),l.a.createElement("div",{className:"lookup-container"},l.a.createElement("div",{className:"lookup-section-header"},"Others"),l.a.createElement(x,{reports:u.others,byMyself:!1,deleteReport:O.bind(void 0)}))))},N=a(46),F=a(160),q=a.n(F),z=a(161),H=a.n(z),$=a(90),Y=a.n($),V=a(91),G=a.n(V),J=a(89),X=a.n(J),Z=a(357),Q=a(355),ee=a(360),te=a(356),ae=a(168),ne=a(72),re=a(361),oe=a(349),_e=a(159),le=a.n(_e),ce=a(88),ie=a.n(ce),se=a(73);function ue(){var e=Object(ne.a)(["\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: #fff;\n  overflow: auto;\n  max-height: 100px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: #fafafa;\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: #e6f7ff;\n    cursor: pointer;\n\n    & svg {\n      color: #000;\n    }\n  }\n"]);return ue=function(){return e},e}function de(){var e=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  height: 31px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: #fafafa;\n  border: 1px solid #e8e8e8;\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: #40a9ff;\n    background-color: #e6f7ff;\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(ne.a)(["\n  width: 300px;\n  border: 1px solid #d9d9d9;\n  background-color: #fff;\n  border-radius: 4px;\n  padding: 1px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: #40a9ff;\n  }\n\n  &.focused {\n    border-color: #40a9ff;\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    font-size: 14px;\n    height: 30px;\n    box-sizing: border-box;\n    padding: 18.5px 14px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n"]);return pe=function(){return e},e}function me(){var e=Object(ne.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]);return me=function(){return e},e}var Ee=Object(se.a)("label")(me()),fe=Object(se.a)("div")(pe()),ge=Object(se.a)((function(e){var t=e.label,a=e.onDelete,n=Object(ae.a)(e,["label","onDelete"]);return l.a.createElement("div",n,l.a.createElement("span",null,t),l.a.createElement(ie.a,{onClick:a}))}))(de()),be=Object(se.a)("ul")(ue());function Oe(e){var t=Object(re.a)({id:"customized-hook-demo",multiple:!0,options:e.data,getOptionLabel:function(e){return e.label}}),a=t.getRootProps,n=t.getInputLabelProps,r=t.getInputProps,o=t.getTagProps,c=t.getListboxProps,i=t.getOptionProps,s=t.groupedOptions,u=t.value,d=t.focused,p=t.setAnchorEl;return Object(_.useEffect)((function(){e.onChange(u)}),[u]),l.a.createElement(oe.a,null,l.a.createElement("div",null,l.a.createElement("div",a(),l.a.createElement(Ee,Object.assign({},n(),{style:{}}),e.label),l.a.createElement(fe,{ref:p,className:d?"focused":""},u.map((function(e,t){return l.a.createElement(ge,Object.assign({label:e.label},o({index:t})))})),l.a.createElement("input",Object.assign({placeholder:"Search for symptoms"},r())))),s.length>0?l.a.createElement(be,c(),s.map((function(e,t){return l.a.createElement("li",i({option:e,index:t}),l.a.createElement("span",null,e.label),l.a.createElement(le.a,{fontSize:"small"}))}))):null))}var he=[{label:"cough"},{label:"fever"},{label:"tiredness"},{label:"Shortness of breath"},{label:"Persistent pain or pressure in the chest"},{label:"New confusion or inability to arouse"},{label:"Bluish lips or face"},{label:"Trouble breathing"}],ve=function(e){var t=Object(_.useState)({age:"",gender:"",symptom:""}),a=Object(d.a)(t,2),n=a[0],r=a[1],o=Object(_.useState)(!1),c=Object(d.a)(o,2),i=c[0],s=c[1],u=Object(_.useState)(""),p=Object(d.a)(u,2),m=p[0],E=p[1];Object(_.useEffect)((function(){f()}),[n]);var f=function(){s(!1),""===n.age||parseInt(n.age)>=1&&parseInt(n.age)<=120?(E(""),""!==n.gender&&(""===n.age||"string"===typeof n.age&&0===n.age.trim().length||s(!0))):E("Age is not valid!")};return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement(Z.a,{open:m.length>0,autoHideDuration:5e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return E("")}},l.a.createElement(te.a,{variant:"filled",severity:"error"},m)),l.a.createElement(v.a,{elevation:0},l.a.createElement("h3",{className:"_title",style:{padding:"0 24px"}},l.a.createElement("div",null,"Basic Info")),l.a.createElement("div",{className:"_subtitle"},"Please provide the details about the patient")),l.a.createElement(v.a,{elevation:0,className:"form-container"},l.a.createElement("div",{className:"form-space"},l.a.createElement(Q.a,{type:"number",id:"age",onChange:function(e){"age"===e.target.id?r(Object(N.a)({},n,{age:e.target.value})):r(Object(N.a)({},n,{symptom:e.target.value}))}.bind(void 0),size:"small",label:"Age",variant:"outlined"})),l.a.createElement("div",{className:"form-space"},l.a.createElement(q.a,{component:"fieldset"},l.a.createElement(ee.a,null,"Gender"),l.a.createElement(H.a,{row:!0,"aria-label":"position",name:"position",id:"gender",defaultValue:"top",onChange:function(e){r(Object(N.a)({},n,{gender:e.target.value}))}.bind(void 0)},l.a.createElement(Y.a,{value:"M",control:l.a.createElement(G.a,{color:"primary"}),label:l.a.createElement("span",{className:"gender"},"Male")}),l.a.createElement(Y.a,{value:"F",control:l.a.createElement(G.a,{color:"primary"}),label:l.a.createElement("span",{className:"gender"},"Female")}),l.a.createElement(Y.a,{value:"T",control:l.a.createElement(G.a,{color:"primary"}),label:l.a.createElement("span",{className:"gender"},"Others")})))),l.a.createElement(Oe,{onChange:function(e){n.symptom=e.map((function(e){return e.label})).toString()},label:"Patient Symptoms",data:he}),l.a.createElement("div",{className:"btn-cont"},l.a.createElement(X.a,{disabled:!i,variant:"contained",color:"primary",className:"_button",onClick:function(){e.updateParentInfo(n)}},"Next"))))},Pe=a(162),Me=a.n(Pe),De=(a(275),window.google),ye=function(e){var t=Object(_.useState)(!1),a=Object(d.a)(t,2),n=a[0],r=(a[1],function(){return l.a.createElement(b.a,{className:"location-pointer"})}),o=function(){return l.a.createElement("div",{className:"location-pointer outer-circle"}," ",l.a.createElement("div",{className:"inner-circle"}))},c=function(e){var t=e.count;return l.a.createElement("div",{className:"badge-unique",style:{display:n?"flex":"none"}},t)},i=e.position&&e.showMarker?l.a.createElement(r,{className:"location-pointer",lat:e.position.lat,lng:e.position.lng}):"",s=e.hotspots&&0!==e.hotspots.length,u=e.position||s?"":l.a.createElement(r,{className:"location-pointer",lat:13.0827,lng:80.2707}),p=s?e.hotspots.map((function(e,t){return l.a.createElement(c,{key:t,lat:e.lat,lng:e.lon,count:e.count})})):"",m={lat:13.0827,lng:80.2707},E="";e.currentLocation&&e.currentLocation.lat&&e.currentLocation.lng?(m={lat:e.currentLocation.lat,lng:e.currentLocation.lng},E=l.a.createElement(o,{lat:e.currentLocation.lat,lng:e.currentLocation.lng})):s&&(m={lat:parseFloat(e.hotspots[0].lat),lng:parseFloat(e.hotspots[0].lon)});var f=function(e,t){var a=new De.maps.Marker({label:{color:"#fff",fontWeight:"900",text:parseFloat(e.count).toString()},map:t,animation:De.maps.Animation.DROP,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lon)}});return a.addListener("click",(function(n){var r='<div id="content" style="font-size: 12px;padding: 6px;">\n                <div style="font-weight: 600;">\n                    Affected Area\n                </div>\n                <div>\n                   '.concat(e.area,' \n                </div>\n                <div style="font-weight: 600; padding-top: 10px;">\n                    Infected Count\n                </div>\n                <div>\n                   ').concat(e.count," \n                </div>\n            </div>");new De.maps.InfoWindow({content:r}).open(t,a),function(e){null!==e.getAnimation()?e.setAnimation(null):(e.setAnimation(De.maps.Animation.BOUNCE),setTimeout((function(){e.setAnimation(null)}),500))}(a)})),a},g=function(t){e.hotspots&&0!==e.hotspots.length&&e.hotspots.map((function(e,a){return l.a.createElement("div",null,function(e,t){var a=new De.maps.Circle({strokeColor:"#f5005696",strokeOpacity:0,strokeWeight:2,fillColor:"#f5005696",fillOpacity:.7,map:t,center:{lat:parseFloat(e.lat),lng:parseFloat(e.lon)},radius:1e3});return a.addListener("hover",(function(){console.log("hovered")})),a}(e,t),f(e,t))}))};return l.a.createElement("div",{style:{height:e.height,width:e.width}},l.a.createElement(Me.a,{bootstrapURLKeys:{key:"AIzaSyCCuPYXot_6UOeBPPp4pHVqHVfK_k9SLMY"},center:e.position?e.position:m,zoom:e.zoom,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map;e.maps;g(t)}},i,E,p,u))},Ce=a(47),Le=a.n(Ce),Ie=a(163),Ae=a.n(Ie),Te=a(164),we=a.n(Te),Ue=(a(280),function e(t){var a=Object(_.useState)({lat:13.0827,lng:80.2707}),n=Object(d.a)(a,2),c=n[0],i=n[1],s=Object(_.useState)(""),u=Object(d.a)(s,2),p=u[0],m=u[1],E=Object(_.useState)({state:"",city:"",area:"",country:""}),f=Object(d.a)(E,2),g=f[0],b=f[1],O=function(e){var t=e.address_components,a={state:"",city:"",area:"",country:""};return t.map((function(e){return"political"===e.types[0]&&(a.area=e.long_name),"locality"===e.types[0]&&(a.city=e.long_name),"administrative_area_level_1"===e.types[0]&&(a.state=e.short_name),"country"===e.types[0]&&(a.country=e.long_name),!0})),a},h=function(){var t=Object(o.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(a),Object(Ce.geocodeByAddress)(a).then((function(t){var a=t[0],n=Object(Ce.getLatLng)(a),r=O(a);return b(Object(N.a)({},e,{state:r.state,city:r.city,area:r.area,country:r.country})),n})).then((function(e){console.log(e),i(e)})).catch((function(e){return console.error("Error",e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("div",{className:"_title",style:{padding:"0 24px"}},l.a.createElement("div",{style:{fontSize:"x-large"}},"Location Info")),l.a.createElement("div",{className:"_subtitle"},"Please selet the location of the patient"),l.a.createElement("div",{className:"location-wrapper"},l.a.createElement(Le.a,{value:p,onChange:m,onSelect:h},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps;e.loading;return l.a.createElement("div",{className:"auto-complete"},l.a.createElement("input",Object.assign({},t({placeholder:"Locality..",className:"location-search-input form-control"}),{value:p})),l.a.createElement("div",{className:"autocomplete-dropdown-container custom-dropdown-style"},a.map((function(e,t){var a=e.active?"suggestion-item--active custom-dropdown-item":"suggestion-item custom-dropdown-item",r=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return l.a.createElement("div",{key:t},l.a.createElement("div",n(e,{className:a,style:r}),l.a.createElement("span",null,e.description)),l.a.createElement(Ae.a,null))}))))})),l.a.createElement(ye,{height:"250px",width:"100%",position:c,showMarker:!0,zoom:13})),l.a.createElement("div",{className:"btn-cont",style:{justifyContent:"justify-center",padding:"0 24px"}},l.a.createElement(X.a,{variant:"contained",color:"primary",className:"_button",disabled:t.loading||""===g.state||""===g.country||""===g.city,onClick:function(){g.lat=c.lat,g.lon=c.lng,t.updateLocationAndPostReport(g)}.bind(void 0)},t.loading?l.a.createElement(we.a,{size:20,color:"secondary"}):"Complete")))}),je=(a(283),{headers:{"Content-Type":"application/json"}}),Re=function(){var e=Object(u.f)(),t=Object(_.useState)(0),a=Object(d.a)(t,2),n=a[0],r=a[1],o=Object(_.useState)(!1),c=Object(d.a)(o,2),i=c[0],s=c[1],p=Object(_.useState)({age:"",gender:"",symptom:""}),m=Object(d.a)(p,2),E=m[0],f=m[1],g=[{component:l.a.createElement(ve,{updateParentInfo:function(e){f(Object(N.a)({},E,{age:e.age,gender:e.gender,symptom:e.symptom})),r(n+1)}.bind(void 0)})},{component:l.a.createElement(Ue,{updateStepper:function(){r(n-1)},updateLocationAndPostReport:function(t){var a={age:E.age,gender:E.gender,symptom:E.symptom,state:t.state,city:t.city,lat:t.lat,lon:t.lon,area:t.area,country:t.country,reported_by:localStorage.getItem("deviceId")};s(!0),M.a.post("https://covid-pulse-api.herokuapp.com/api/covid19/report/",a,je).then((function(t){e.push("/lookup")})).catch((function(e){console.log(e)})).finally((function(){s(!1)}))}.bind(void 0),loading:i})}];return l.a.createElement("div",{className:"_stepper-wrapper _wrapper"},g[n].component)},Se=a(354),Be=a(353),xe=a(130),ke=a(359),We=a(351),Ke=a(352),Ne=Object(We.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"90vw",margin:"0 auto"},input:{marginLeft:e.spacing(1),flex:1,padding:"6px 0px"},iconButton:{padding:10}}})),Fe=function(e){var t=Ne(),a=Object(_.useState)(""),n=Object(d.a)(a,2),r=n[0],o=n[1];return l.a.createElement(Le.a,{value:r,onChange:o,onSelect:function(t){o(t),Object(Ce.geocodeByAddress)(t).then((function(e){return Object(Ce.getLatLng)(e[0])})).then((function(t){e.updatePosition(t)})).catch((function(e){return console.error("Error",e)}))}},(function(e){var a=e.getInputProps,n=e.suggestions,_=e.getSuggestionItemProps;return l.a.createElement("div",{className:"location-search-container"},l.a.createElement(v.a,{className:t.root},l.a.createElement(Ke.a,{className:"search-icon"}),l.a.createElement(ke.a,Object.assign({className:t.input,id:"input-attr",value:r},a({placeholder:"Search Hotspots"}))),l.a.createElement(xe.a,{style:{display:r&&0!==r.trim().length?"block":"none"},className:t.iconButton,type:"submit","aria-label":"search",onClick:function(){return o("")}},l.a.createElement(ie.a,null))),l.a.createElement("div",{className:"autocomplete-dropdown-container custom-dropdown-style"},n.map((function(e,t){var a=e.active?"suggestion-item--active custom-dropdown-item":"suggestion-item custom-dropdown-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return l.a.createElement("div",{key:t},l.a.createElement("div",_(e,{className:a,style:n}),l.a.createElement("span",null,e.description)),l.a.createElement(Be.a,null))}))))}))},qe=function(){var e=Object(_.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(_.useState)({}),i=Object(d.a)(c,2),s=i[0],u=i[1],p=Object(_.useState)(!1),m=Object(d.a)(p,2),E=m[0],f=m[1],g=Object(_.useState)(13),b=Object(d.a)(g,2),O=b[0],h=b[1],v=function(){f(!1)},P=Object(_.useState)([]),D=Object(d.a)(P,2),y=D[0],C=D[1];Object(_.useEffect)((function(){A()}),[]),Object(_.useEffect)((function(){L()}),[s]);var L=function(){console.log("Init up 2"),localStorage.getItem("scheduled")||setInterval((function(){console.log("Setting up 1"),s.lat&&s.lng&&0!==y.length&&(M.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+s.lat+","+s.lng+"&sensor=true&key=AIzaSyCCuPYXot_6UOeBPPp4pHVqHVfK_k9SLMY").then((function(e){var t=function(t){var a=e.data.results[0].address_components.find((function(e){return console.log(-1!==e.long_name.toLowerCase().indexOf(y[t].area.toLowerCase())),-1!==e.long_name.toLowerCase().indexOf(y[t].area.toLowerCase())}));if(a)return console.log(a),window.cordova.plugins.notification.local.schedule({title:"CovidPulse - Warning",text:"You are in COVID-19 HotZone, around "+y[t].count+" people has been affected in "+y[t].area+".Be cautious and maintain social distance.",foreground:!0}),"break"};for(var a in y){if("break"===t(a))break}})),localStorage.setItem("scheduled",!0))}),1e4)},I=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(),e.next=3,navigator.geolocation.getCurrentPosition((function(e){v(),u({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(e){console.log(e),v()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){f(!0),M.a.get("https://covid-pulse-api.herokuapp.com/api/covid19/hotspots").then((function(e){C(e.data.results)})).then((function(){return I()})).catch((function(e){console.log(e),v()}))},T=function(){n(null),h(O+.1),u({lat:s.lat,lng:s.lng+1e-5})};return l.a.createElement("div",null,E?l.a.createElement(k.a,{open:E,style:{zIndex:"9999"},onClick:v},l.a.createElement(W.a,{color:"inherit"})):l.a.createElement("div",null,l.a.createElement(B.a,{className:"reposition-but",onClick:function(){return T()}},l.a.createElement(Se.a,null)),l.a.createElement(Fe,{updatePosition:function(e){console.log("Updating location"),n(e)}.bind(void 0)}),l.a.createElement(ye,{height:"95vh",width:"100%",currentLocation:s,hotspots:y,repositionUser:function(){return T()},showReposition:!0,position:a,showMarker:!1,zoom:O})))},ze=a(165),He=a(341),$e=a(167),Ye=Object($e.a)({palette:{primary:{main:"#5262bc"},secondary:{main:"#f44336"}}});var Ve=function(){return l.a.createElement(He.a,{theme:Ye},l.a.createElement(s.a,null,l.a.createElement("div",{className:"app"},l.a.createElement(u.b,{path:"/hotspots",component:qe}),l.a.createElement(u.b,{path:"/feeds",component:ze.a}),l.a.createElement(u.b,{path:"/report",component:Re}),l.a.createElement(u.b,{path:"/lookup",component:K}),l.a.createElement(u.a,{from:"/",to:"/hotspots"}),l.a.createElement(h,null))))},Ge=a(166),Je=a.n(Ge),Xe=function(){i.a.render(l.a.createElement(Ve,null),document.getElementById("root"))},Ze=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je.a.v4();case 2:return t=e.sent,localStorage.setItem("deviceId",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.cordova?document.addEventListener("deviceready",(function(){var e=window.cordova,t=e.plugins.permissions;t.requestPermission(t.ACCESS_FINE_LOCATION,(function(e){return console.log("Permission provided")}),(function(){return console.log("Permission not prov")}));var a=window.device;e.plugins.notification.local.schedule({title:"My first notification",text:"Thats pretty easy...",foreground:!0}),localStorage.setItem("deviceId",a.uuid),Xe()}),!1):(Ze().then((function(e){return console.log(e)})).catch((function(e){return console.log("Error occured getting device Id")})),Xe())}},[[182,1,2]]]);
//# sourceMappingURL=main.d36e6f7d.chunk.js.map